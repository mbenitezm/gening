<!DOCTYPE HTML>
<html>
<head>
    <script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <script type="text/javascript">

        window.onload = function () {
            var customers = $('#customerProducts');
            console.log(JSON.parse(customers));
            var chart = new CanvasJS.Chart("chartContainer", {
                title:{
                    text: "Products consumed by client"
                },
                data: [
                    {
                        // Change type to "doughnut", "line", "splineArea", etc.
                        type: "column",
                        dataPoints: [
                            { label: "apple",  y: 10  },
                            { label: "orange", y: 15  },
                            { label: "banana", y: 25  },
                            { label: "mango",  y: 30  },
                            { label: "grape",  y: 28  }
                        ]
                    }
                ]
            });
            chart.render();
        }
    </script>
</head>
<body>
<div id="customerProducts" data-customers="<%= current_customer.order_details.to_json %>"></div>
<h1> Product Statistics </h1>
<div class="dropdown">
    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Select product
        <span class="caret"></span></button>
    <ul class="dropdown-menu">
        <li><a href="#">HTML</a></li>
        <li><a href="#">CSS</a></li>
        <li><a href="#">JavaScript</a></li>
    </ul>
</div>
<div id="chartContainer" style="height: 300px; width: 100%;"></div>
</body>
</html>